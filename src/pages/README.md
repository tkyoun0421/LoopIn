# Pages Layer

Pages ë ˆì´ì–´ëŠ” ê° ë¼ìš°íŠ¸ì— ëŒ€ì‘í•˜ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ë ˆì´ì–´ì…ë‹ˆë‹¤.

## êµ¬ì¡°

```
pages/
â”œâ”€â”€ Layout/             # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ HomePage/           # í™ˆ í˜ì´ì§€
â”œâ”€â”€ SearchPage/         # ê²€ìƒ‰ í˜ì´ì§€
â”œâ”€â”€ SearchDetailPage/   # ê²€ìƒ‰ ìƒì„¸ í˜ì´ì§€
â”œâ”€â”€ PlaylistPage/       # í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ëª©ë¡ í˜ì´ì§€
â”œâ”€â”€ PlaylistDetailPage/ # í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìƒì„¸ í˜ì´ì§€
â”œâ”€â”€ CallbackPage/       # OAuth ì½œë°± í˜ì´ì§€
â”œâ”€â”€ LoadingPage/        # ë¡œë”© í˜ì´ì§€
â”œâ”€â”€ ErrorPage/          # ì—ëŸ¬ í˜ì´ì§€
â””â”€â”€ NotFoundPage/       # 404 í˜ì´ì§€
```

## ì—­í• 

- **í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì¡°í•©**: widgetsì™€ featuresë¥¼ ì¡°í•©í•˜ì—¬ ì™„ì „í•œ í˜ì´ì§€ êµ¬ì„±
- **ë¼ìš°íŒ… ëŒ€ì‘**: ê° URL ê²½ë¡œì— ëŒ€ì‘í•˜ëŠ” í˜ì´ì§€ ì œê³µ
- **ë ˆì´ì•„ì›ƒ ê´€ë¦¬**: ê³µí†µ ë ˆì´ì•„ì›ƒê³¼ í˜ì´ì§€ë³„ ë ˆì´ì•„ì›ƒ ê´€ë¦¬
- **ì„±ëŠ¥ ìµœì í™”**: í˜ì´ì§€ë³„ ì´ë¯¸ì§€ ìµœì í™” ë° ë¡œë”© ìµœì í™”

## ì˜ì¡´ì„± ê·œì¹™

- widgets, features, shared ë ˆì´ì–´ë§Œ import ê°€ëŠ¥
- app ë ˆì´ì–´ë‚˜ ë‹¤ë¥¸ pagesëŠ” import ë¶ˆê°€
- ê° í˜ì´ì§€ëŠ” ë…ë¦½ì ì´ì–´ì•¼ í•¨

## í˜ì´ì§€ë³„ ì„¤ëª…

### Layout/

- **AppLayout**: ê³µí†µ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (í—¤ë”, ì‚¬ì´ë“œë°”, í‘¸í„°)
- **SearchLayout**: ê²€ìƒ‰ í˜ì´ì§€ ì „ìš© ë ˆì´ì•„ì›ƒ
- í—¤ë”, ì‚¬ì´ë“œë°”, ë„¤ë¹„ê²Œì´ì…˜ ë“±ì„ í¬í•¨

### HomePage/

- ë©”ì¸ í™ˆ í˜ì´ì§€
- ì¶”ì²œ ìŒì•…, ì¸ê¸° ì°¨íŠ¸, ìƒˆë¡œìš´ ë¦´ë¦¬ìŠ¤ ë“± í‘œì‹œ
- **ğŸ†• ìµœì í™”**: ì´ë¯¸ì§€ ìµœì í™” ì ìš©ìœ¼ë¡œ ë¡œë”© ì„±ëŠ¥ í–¥ìƒ

### SearchPage/

- ìŒì•… ê²€ìƒ‰ ë©”ì¸ í˜ì´ì§€
- ê²€ìƒ‰ ë°”, ì¹´í…Œê³ ë¦¬, Year-End ì½˜í…ì¸  ë“±

### SearchDetailPage/

- ìƒì„¸ ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€
- ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ ë° í•„í„°ë§
- ë¬´í•œ ìŠ¤í¬ë¡¤ ë° íƒ­ ê¸°ë°˜ ê²°ê³¼ í‘œì‹œ

### PlaylistPage/

- ì‚¬ìš©ì í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ëª©ë¡ í˜ì´ì§€
- ë‚´ ë¼ì´ë¸ŒëŸ¬ë¦¬, í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
- **ğŸ†• ìµœì í™”**: í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì¸ë„¤ì¼ ì´ë¯¸ì§€ ìµœì í™”

### PlaylistDetailPage/

- í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìƒì„¸ í˜ì´ì§€
- í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ë‚´ ê³¡ ëª©ë¡ ë° ì¬ìƒ
- **ğŸ†• ìµœì í™”**: í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì»¤ë²„ ì´ë¯¸ì§€ ìµœì í™”

### CallbackPage/

- Spotify OAuth ì½œë°± ì²˜ë¦¬ í˜ì´ì§€
- ì¸ì¦ ì™„ë£Œ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬

### LoadingPage/

- ë¡œë”© ìƒíƒœ í˜ì´ì§€
- ì•± ì´ˆê¸°í™” ì¤‘ í‘œì‹œ

### ErrorPage/

- ì¼ë°˜ ì—ëŸ¬ í˜ì´ì§€
- ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ ë°œìƒ ì‹œ í‘œì‹œ

### NotFoundPage/

- 404 ì—ëŸ¬ í˜ì´ì§€
- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ ì ‘ê·¼ ì‹œ í‘œì‹œ

## ğŸ†• ìµœì‹  ì—…ë°ì´íŠ¸

### ì„±ëŠ¥ ìµœì í™”

1. **ì´ë¯¸ì§€ ìµœì í™”**:

   - ëª¨ë“  í˜ì´ì§€ì—ì„œ OptimizedImage ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
   - í˜ì´ì§€ë³„ ì´ë¯¸ì§€ í”„ë¦¬ì…‹ ì ìš©
   - ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•

2. **ë Œë”ë§ ìµœì í™”**:

   - React.memo ì ìš©ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
   - ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ìœ¼ë¡œ í˜ì´ì§€ë³„ ë²ˆë“¤ í¬ê¸° ìµœì í™”

3. **ë°ì´í„° í˜ì¹­ ìµœì í™”**:
   - React Query ìºì‹± ì „ëµ ì ìš©
   - í˜ì´ì§€ë³„ ë°ì´í„° í”„ë¦¬í˜ì¹­

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†± ìµœì í™”
- **ì ‘ê·¼ì„±**: ARIA ë¼ë²¨, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- **ë‹¤í¬ ëª¨ë“œ**: ëª¨ë“  í˜ì´ì§€ì—ì„œ ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì§€ì›

### ë¼ìš°íŒ… ê°œì„ 

- **ë™ì  ë¼ìš°íŒ…**: í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ID ê¸°ë°˜ ë¼ìš°íŒ…
- **ì¤‘ì²© ë¼ìš°íŒ…**: ë ˆì´ì•„ì›ƒ ê¸°ë°˜ ë¼ìš°íŒ… êµ¬ì¡°
- **ì—ëŸ¬ ë°”ìš´ë”ë¦¬**: í˜ì´ì§€ë³„ ì—ëŸ¬ ì²˜ë¦¬

## ê°œë°œ ê°€ì´ë“œë¼ì¸

1. **í˜ì´ì§€ êµ¬ì¡°**: ê° í˜ì´ì§€ëŠ” í´ë” ë‹¨ìœ„ë¡œ êµ¬ì„±
2. **ì˜ì¡´ì„± ê´€ë¦¬**: í˜ì´ì§€ë³„ë¡œ í•„ìš”í•œ widgetsì™€ featuresë§Œ import
3. **ë…ë¦½ì„±**: í˜ì´ì§€ ê°„ ì§ì ‘ì ì¸ ì˜ì¡´ì„±ì€ ê¸ˆì§€
4. **ê³µí†µ ë¡œì§**: shared ë ˆì´ì–´ í™œìš©
5. **ì„±ëŠ¥**: ì´ë¯¸ì§€ ìµœì í™”, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì ìš©
6. **SEO**: ë©”íƒ€ íƒœê·¸, í˜ì´ì§€ë³„ title ì„¤ì •

## í˜ì´ì§€ë³„ ì„±ëŠ¥ ìµœì í™” íŒ

### 1. ì´ë¯¸ì§€ ìµœì í™”

```typescript
import OptimizedImage from '@shared/ui/OptimizedImage/OptimizedImage';
import useImagePresets from '@shared/hooks/useImagePresets';

const PlaylistDetailPage = () => {
  const presets = useImagePresets();

  return (
    <OptimizedImage
      src={playlist.images[0]?.url}
      alt={playlist.name}
      {...presets.large}
      loading="eager" // ì¤‘ìš”í•œ ì´ë¯¸ì§€ëŠ” ì¦‰ì‹œ ë¡œë”©
    />
  );
};
```

### 2. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

```typescript
import { lazy, Suspense } from 'react';
import LoadingPage from './LoadingPage/LoadingPage';

const PlaylistDetailPage = lazy(() => import('./PlaylistDetailPage/PlaylistDetailPage'));

const App = () => (
  <Suspense fallback={<LoadingPage />}>
    <PlaylistDetailPage />
  </Suspense>
);
```

### 3. ë°ì´í„° í”„ë¦¬í˜ì¹­

```typescript
import { useQueryClient } from "@tanstack/react-query";

const HomePage = () => {
  const queryClient = useQueryClient();

  // ì¤‘ìš”í•œ ë°ì´í„° ë¯¸ë¦¬ ë¡œë”©
  useEffect(() => {
    queryClient.prefetchQuery({
      queryKey: ["new-releases"],
      queryFn: fetchNewReleases,
    });
  }, []);
};
```

## ë¼ìš°íŒ… êµ¬ì¡°

```typescript
// ë¼ìš°íŒ… ì˜ˆì‹œ
const routes = [
  {
    path: '/',
    element: <AppLayout />,
    children: [
      { index: true, element: <HomePage /> },
      { path: 'search', element: <SearchPage /> },
      { path: 'search/:query', element: <SearchDetailPage /> },
      { path: 'playlist', element: <PlaylistPage /> },
      { path: 'playlist/:id', element: <PlaylistDetailPage /> },
    ],
  },
  { path: '/callback', element: <CallbackPage /> },
  { path: '*', element: <NotFoundPage /> },
];
```
